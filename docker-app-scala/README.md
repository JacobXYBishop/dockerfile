# Docker APP Scala

## Annotation

1. `project`:

    Generated by Scala project; adding `plugins.sbt` for packaging JAR.

1. `build.sbt`:

    Add these two lines into build.sbt
    ```
    enablePlugins(PackPlugin)
    packGenerateWindowsBatFile := false
    ```

1. `docker-base`:

    Same as docker-app-template-nodejs

1. `docker-app`:

    Same as docker-app-template-nodejs

## Scala project structure

```

project-file
    |
    |--- docker-app
    |       |
    |       |--- .env
    |       |
    |       |--- docker-compose.yml
    |       |
    |       |--- Dockerfile
    |       |
    |       |--- setup.sh
    |       |
    |       |--- start.sh
    |
    |--- docker-base
    |       |
    |       |--- Dockerfile
    |       |
    |       |--- setup.sh
    |
    |--- target
    |       |
    |       |--- pack
    |       |       |
    |       |       |--- bin
    |       |       |
    |       |       |--- lib
    |       |
    |       |--- scala-x.xx
    |               |
    |               |--- projectName_scalaVersion-projectVersion.jar
    |
    |--- resources

```


## Process

1. docker-base

    - `setup.sh`: setting up Java environment

1. docker-app

    - execute `pack` command in Scala Console to generate `target` file
    
    - copy `target` and `resources` to the project root (shown as above)
    
    - `setup.sh`: setting up App image
    
    - `start.sh`: run app container
